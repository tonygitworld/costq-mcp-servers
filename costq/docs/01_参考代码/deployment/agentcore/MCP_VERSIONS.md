# MCP Server ç‰ˆæœ¬ç®¡ç†

æœ¬æ–‡æ¡£è®°å½• CostQ é¡¹ç›®ä½¿ç”¨çš„æ‰€æœ‰ AWS Labs MCP Server çš„ç‰ˆæœ¬å†å²å’Œæ›´æ–°æ—¥å¿—ã€‚

---

## ğŸ“Š å½“å‰ç‰ˆæœ¬ (2025-12-14)

| MCP Server | ç‰ˆæœ¬ | PyPI æœ€æ–°ç‰ˆæœ¬ | çŠ¶æ€ |
|-----------|------|-------------|------|
| cost-explorer | **0.0.14** | 0.0.14 | âœ… æœ€æ–° |
| aws-pricing | **1.0.20** | 1.0.20 | âœ… æœ€æ–° |
| aws-documentation | **1.1.13** | 1.1.13 | âœ… æœ€æ–° |
| billing-cost-management | **0.0.7** | 0.0.7 | âœ… æœ€æ–° |
| cloudtrail | **0.0.6** | 0.0.6 | âœ… æœ€æ–° |

---

## ğŸ”’ ç‰ˆæœ¬é”å®šç­–ç•¥

**ç­–ç•¥**: æ‰€æœ‰ MCP Server ç‰ˆæœ¬**å·²é”å®š**ï¼Œä¸ä½¿ç”¨ `latest`

**åŸå› **:
1. âœ… **ç”Ÿäº§ç¨³å®šæ€§ä¼˜å…ˆ**: é¿å…è‡ªåŠ¨æ›´æ–°å¯¼è‡´çš„æ„å¤–é—®é¢˜
2. âœ… **å¯æ§çš„æ›´æ–°èŠ‚å¥**: ä¸»åŠ¨é€‰æ‹©æ›´æ–°æ—¶æœºï¼Œè€Œéè¢«åŠ¨æ¥å—
3. âœ… **ä¾¿äºé—®é¢˜å®šä½**: æ˜ç¡®çŸ¥é“ä½¿ç”¨çš„ç‰ˆæœ¬ï¼Œä¾¿äºå›æº¯å’Œè°ƒè¯•
4. âœ… **ç¬¦åˆè¡Œä¸šæœ€ä½³å®è·µ**: ç”Ÿäº§ç¯å¢ƒæ¨èé”å®šä¾èµ–ç‰ˆæœ¬

---

## ğŸ“ ç‰ˆæœ¬æ›´æ–°å†å²

### 2025-12-14 - ç»Ÿä¸€ç‰ˆæœ¬é”å®šç­–ç•¥

**æ›´æ–°å†…å®¹**:
- âœ… cost-explorer: `0.0.13` â†’ `0.0.14` (è¡¥ä¸ç‰ˆæœ¬æ›´æ–°)
- âœ… aws-pricing: é”å®šç‰ˆæœ¬ä¸º `1.0.20` (ä¹‹å‰ä¸º latest)
- âœ… aws-documentation: é”å®šç‰ˆæœ¬ä¸º `1.1.13` (ä¹‹å‰ä¸º latest)
- âœ… billing-cost-management: é”å®šç‰ˆæœ¬ä¸º `0.0.7` (ä¹‹å‰ä¸º latest)
- âœ… cloudtrail: é”å®šç‰ˆæœ¬ä¸º `0.0.6` (ä¹‹å‰ä¸º latest)

**æ›´æ–°åŸå› **:
- ç»Ÿä¸€ç‰ˆæœ¬ç®¡ç†ç­–ç•¥ï¼Œæé«˜ç”Ÿäº§ç¯å¢ƒç¨³å®šæ€§
- cost-explorer ä» 0.0.13 æ›´æ–°åˆ° 0.0.14ï¼Œè·å–æœ€æ–° bug ä¿®å¤

**å½±å“è¯„ä¼°**:
- âœ… é£é™©ï¼šä½ï¼ˆä»… cost-explorer æœ‰ç‰ˆæœ¬å˜æ›´ï¼Œå…¶ä»–åªæ˜¯ç­–ç•¥è°ƒæ•´ï¼‰
- âœ… å…¼å®¹æ€§ï¼šé«˜ï¼ˆè¡¥ä¸ç‰ˆæœ¬æ›´æ–°ï¼Œæ—  breaking changesï¼‰
- âœ… åŠŸèƒ½å½±å“ï¼šæ— ï¼ˆåŠŸèƒ½å®Œå…¨å…¼å®¹ï¼‰

**éƒ¨ç½²ç¯å¢ƒ**:
- âœ… å¼€å‘ç¯å¢ƒ: å·²éƒ¨ç½² (2025-12-14 15:18) - Runtime ID: cosq_agentcore_runtime_development-49gbDzHm0G
- âœ… ç”Ÿäº§ç¯å¢ƒ: å·²éƒ¨ç½² (2025-12-14 15:24) - Runtime ID: cosq_agentcore_runtime_production-5x9j6eBjmZ

**é•œåƒ URI**: `000451883532.dkr.ecr.ap-northeast-1.amazonaws.com/costq-agentcore:v20251214-151435`

**éªŒè¯ç»“æœ**:
- âœ… å¼€å‘ç¯å¢ƒéªŒè¯é€šè¿‡ (MCP åŠ è½½ 0.6s, 57 å·¥å…·)
- âœ… ç”Ÿäº§ç¯å¢ƒéªŒè¯é€šè¿‡ (MCP åŠ è½½ 0.74s, 57 å·¥å…·, Agent æ™ºèƒ½é”™è¯¯ä¿®æ­£)
- âœ… è¯¦ç»†æµ‹è¯•æŠ¥å‘Š:
  - `docs/é—®é¢˜åˆ†æ/20251214_dev_runtime_test_result.md`
  - `docs/é—®é¢˜åˆ†æ/20251214_prod_runtime_test_result.md`

---

### 2025-12-14 ä¹‹å‰ - æ··åˆç‰ˆæœ¬ç­–ç•¥

**ç‰ˆæœ¬é…ç½®**:
- cost-explorer: `0.0.13` (é”å®š)
- aws-pricing: `latest` (è‡ªåŠ¨è·Ÿéš)
- aws-documentation: `latest` (è‡ªåŠ¨è·Ÿéš)
- billing-cost-management: `latest` (è‡ªåŠ¨è·Ÿéš)
- cloudtrail: `latest` (è‡ªåŠ¨è·Ÿéš)

**é—®é¢˜**:
- âš ï¸ ç‰ˆæœ¬ç­–ç•¥ä¸ç»Ÿä¸€ï¼Œç®¡ç†å¤æ‚
- âš ï¸ `latest` å¯èƒ½å¼•å…¥ä¸å…¼å®¹å˜æ›´
- âš ï¸ éš¾ä»¥å›æº¯å’Œå®šä½é—®é¢˜ç‰ˆæœ¬

---

## ğŸ” ç‰ˆæœ¬æ£€æŸ¥æµç¨‹

### å®šæœŸæ£€æŸ¥ (æ¯æœˆ 1 æ¬¡)

**æ—¶é—´**: æ¯æœˆ 14 å·
**è´Ÿè´£äºº**: DevOps Team

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æ£€æŸ¥æ‰€æœ‰ MCP Server æœ€æ–°ç‰ˆæœ¬
pip index versions awslabs.cost-explorer-mcp-server | grep "LATEST:"
pip index versions awslabs.aws-pricing-mcp-server | grep "LATEST:"
pip index versions awslabs.aws-documentation-mcp-server | grep "LATEST:"
pip index versions awslabs.billing-cost-management-mcp-server | grep "LATEST:"
pip index versions awslabs.cloudtrail-mcp-server | grep "LATEST:"
```

**æ£€æŸ¥å†…å®¹**:
1. æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬å‘å¸ƒ
2. æŸ¥çœ‹ç‰ˆæœ¬æ›´æ–°æ—¥å¿—ï¼ˆCHANGELOGï¼‰
3. è¯„ä¼°æ›´æ–°é£é™©å’Œæ”¶ç›Š
4. å†³å®šæ˜¯å¦æ›´æ–°

---

### å®‰å…¨æ›´æ–° (æ¯å‘¨ 1 æ¬¡)

**æ—¶é—´**: æ¯å‘¨ä¸€
**è´Ÿè´£äºº**: Security Team

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æ£€æŸ¥å®‰å…¨æ¼æ´
pip-audit
```

**å¤„ç†æµç¨‹**:
1. å¦‚å‘ç°å®‰å…¨æ¼æ´ï¼Œç«‹å³è¯„ä¼°å½±å“
2. æ£€æŸ¥æ˜¯å¦æœ‰ä¿®å¤ç‰ˆæœ¬
3. ç´§æ€¥æ›´æ–°åˆ°å®‰å…¨ç‰ˆæœ¬
4. è®°å½•æ›´æ–°æ—¥å¿—

---

## ğŸ“‹ ç‰ˆæœ¬æ›´æ–°æ£€æŸ¥æ¸…å•

### æ›´æ–°å‰

- [ ] æ£€æŸ¥æ‰€æœ‰ MCP Server æœ€æ–°ç‰ˆæœ¬
- [ ] æŸ¥çœ‹ç‰ˆæœ¬æ›´æ–°æ—¥å¿—ï¼ˆCHANGELOGï¼‰
  - GitHub: https://github.com/awslabs/mcp-servers
  - PyPI: https://pypi.org/project/awslabs.{package-name}/
- [ ] è¯„ä¼°æ›´æ–°é£é™©
  - æ˜¯å¦æœ‰ breaking changes
  - æ˜¯å¦å½±å“ç°æœ‰åŠŸèƒ½
  - æ˜¯å¦éœ€è¦ä»£ç ä¿®æ”¹
- [ ] å‡†å¤‡å›æ»šæ–¹æ¡ˆ
  - è®°å½•å½“å‰é•œåƒ URI
  - å‡†å¤‡å›æ»šå‘½ä»¤

---

### æ›´æ–°ä¸­

- [ ] ä¿®æ”¹ `deployment/agentcore/Dockerfile`
  - æ›´æ–°ç‰ˆæœ¬å·
  - é‡æ–°æ„å»ºé•œåƒ
- [ ] ä¿®æ”¹ `backend/mcp/mcp_manager.py`
  - åŒæ­¥ç‰ˆæœ¬å·
  - æ›´æ–°æ³¨é‡Š
- [ ] æ›´æ–°æœ¬æ–‡æ¡£ (`MCP_VERSIONS.md`)
  - è®°å½•æ›´æ–°æ—¶é—´
  - è®°å½•æ›´æ–°åŸå› 
  - è®°å½•å½±å“è¯„ä¼°
- [ ] æ„å»ºå¹¶æ¨é€é•œåƒ
  ```bash
  cd deployment/agentcore
  ./01-build_and_push.sh
  ```
- [ ] æ›´æ–°å¼€å‘ç¯å¢ƒ Runtime
  ```bash
  aws bedrock-agentcore update-runtime \
    --runtime-id cosq_agentcore_runtime_development-49gbDzHm0G \
    --image-uri <æ–°é•œåƒURI> \
    --region ap-northeast-1 \
    --profile 3532
  ```

---

### æ›´æ–°å

- [ ] éªŒè¯å¼€å‘ç¯å¢ƒ
  - MCP åŠ è½½æˆåŠŸï¼ˆ8/8ï¼‰
  - æ‰€æœ‰å·¥å…·å¯ç”¨ï¼ˆ57 ä¸ªï¼‰
  - æ—  ERROR æ—¥å¿—
- [ ] åŠŸèƒ½æµ‹è¯•
  - cost-explorer: æŸ¥è¯¢æˆæœ¬æ•°æ®
  - aws-pricing: æŸ¥è¯¢å®šä»·ä¿¡æ¯
  - aws-documentation: æœç´¢æ–‡æ¡£
  - billing-cost-management: æŸ¥è¯¢ä¼˜åŒ–å»ºè®®
  - cloudtrail: æŸ¥è¯¢å®¡è®¡æ—¥å¿—
- [ ] æ€§èƒ½æµ‹è¯•
  - MCP åŠ è½½æ—¶é—´ < 15 ç§’
  - æŸ¥è¯¢å“åº”æ—¶é—´æ­£å¸¸
- [ ] ç›‘æ§æ—¥å¿—ï¼ˆ24-48 å°æ—¶ï¼‰
  - æ—  ERROR æ—¥å¿—
  - æ— å¼‚å¸¸è­¦å‘Š
  - æ— æ€§èƒ½ä¸‹é™
- [ ] æ›´æ–°ç”Ÿäº§ç¯å¢ƒ
  ```bash
  aws bedrock-agentcore update-runtime \
    --runtime-id cosq_agentcore_runtime_production-5x9j6eBjmZ \
    --image-uri <æ–°é•œåƒURI> \
    --region ap-northeast-1 \
    --profile 3532
  ```
- [ ] ç”Ÿäº§ç¯å¢ƒéªŒè¯ï¼ˆåŒå¼€å‘ç¯å¢ƒï¼‰
- [ ] æ›´æ–°å®Œæˆé€šçŸ¥
  - é€šçŸ¥å›¢é˜Ÿæˆå‘˜
  - è®°å½•åˆ° Confluence/Wiki

---

## ğŸ”„ å›æ»šæµç¨‹

**è§¦å‘æ¡ä»¶**:
- å‘ç°ä¸¥é‡ bug
- åŠŸèƒ½å¼‚å¸¸
- æ€§èƒ½ä¸¥é‡ä¸‹é™
- ç”Ÿäº§äº‹æ•…

**å›æ»šæ­¥éª¤**:
```bash
# 1. æŸ¥æ‰¾ä¸Šä¸€ä¸ªç¨³å®šé•œåƒ URI
# ï¼ˆè®°å½•åœ¨æ›´æ–°æ—¥å¿—ä¸­ï¼‰

# 2. å›æ»šå¼€å‘ç¯å¢ƒ
aws bedrock-agentcore update-runtime \
  --runtime-id cosq_agentcore_runtime_development-49gbDzHm0G \
  --image-uri <ä¸Šä¸€ä¸ªç¨³å®šé•œåƒURI> \
  --region ap-northeast-1 \
  --profile 3532

# 3. éªŒè¯åŠŸèƒ½æ­£å¸¸

# 4. å›æ»šç”Ÿäº§ç¯å¢ƒ
aws bedrock-agentcore update-runtime \
  --runtime-id cosq_agentcore_runtime_production-5x9j6eBjmZ \
  --image-uri <ä¸Šä¸€ä¸ªç¨³å®šé•œåƒURI> \
  --region ap-northeast-1 \
  --profile 3532

# 5. éªŒè¯ç”Ÿäº§ç¯å¢ƒ

# 6. è®°å½•å›æ»šåŸå› å’Œäº‹ååˆ†æ
```

---

## ğŸ“š å‚è€ƒèµ„æ–™

### PyPI åŒ…åœ°å€

- [awslabs.cost-explorer-mcp-server](https://pypi.org/project/awslabs.cost-explorer-mcp-server/)
- [awslabs.aws-pricing-mcp-server](https://pypi.org/project/awslabs.aws-pricing-mcp-server/)
- [awslabs.aws-documentation-mcp-server](https://pypi.org/project/awslabs.aws-documentation-mcp-server/)
- [awslabs.billing-cost-management-mcp-server](https://pypi.org/project/awslabs.billing-cost-management-mcp-server/)
- [awslabs.cloudtrail-mcp-server](https://pypi.org/project/awslabs.cloudtrail-mcp-server/)

### GitHub ä»“åº“

- [AWS Labs MCP Servers](https://github.com/awslabs/mcp-servers)

### å®˜æ–¹æ–‡æ¡£

- [Model Context Protocol (MCP)](https://modelcontextprotocol.io/)
- [AWS Bedrock AgentCore](https://docs.aws.amazon.com/bedrock-agentcore/)

---

## ğŸ“ è”ç³»äºº

**ç‰ˆæœ¬ç®¡ç†è´Ÿè´£äºº**: DevOps Team
**ç´§æ€¥è”ç³»**: Security Team (å®‰å…¨æ¼æ´)

---

**æœ€åæ›´æ–°**: 2025-12-14
**ä¸‹æ¬¡æ£€æŸ¥**: 2025-01-14
