# RISP MCP Server ä¿®å¤å®ŒæˆæŠ¥å‘Š

**æ—¥æœŸ**: 2026-01-20
**ç›®æ ‡**: ä¿®å¤ costq-risp-mcp-server éƒ¨ç½²åˆ° AgentCore Gateway å¤±è´¥é—®é¢˜

---

## âœ… ä¿®å¤æ¦‚è§ˆ

æ ¹æ®ä¸‰ä½ä¸“å®¶çš„è¯Šæ–­åˆ†æï¼ŒRISP MCP éƒ¨ç½²å¤±è´¥çš„æ ¸å¿ƒé—®é¢˜æ˜¯**å·¥å…·å‡½æ•°ç­¾åä½¿ç”¨äº†å¤æ‚çš„ Pydantic æ¨¡å‹å‚æ•°**ï¼Œå¯¼è‡´ AgentCore Gateway åœ¨ tools/list é˜¶æ®µæ— æ³•æ­£ç¡®è§£æ JSON Schemaï¼Œè¿›è€Œåœ¨ 7ms å†…è¿”å› InternalServerExceptionã€‚

æœ¬æ¬¡ä¿®å¤ä¸¥æ ¼æŒ‰ç…§ **CloudTrail MCP** çš„æˆåŠŸæ¨¡å¼è¿›è¡Œé‡æ„ï¼Œå®Œæˆäº†ä»¥ä¸‹å…³é”®æ”¹åŠ¨ï¼š

---

## ğŸ“‹ ä¿®å¤å†…å®¹è¯¦ç»†æ¸…å•

### Phase 1: å·¥å…·å‡½æ•°ç­¾åé‡æ„ï¼ˆP0 - ç´§æ€¥ä¿®å¤ï¼‰

#### 1.1 `handlers/sp_handler.py` - 7ä¸ªå‡½æ•°å…¨éƒ¨é‡æ„ âœ…

**ä¿®æ”¹å‰ï¼ˆâŒ å¤±è´¥æ¨¡å¼ï¼‰:**
```python
async def get_savings_plans_utilization(
    context: Context,
    params: SavingsPlansUtilizationParams,  # å¤æ‚åµŒå¥— Pydantic æ¨¡å‹
    target_account_id: Optional[str] = None
) -> dict[str, Any]:
```

**ä¿®æ”¹åï¼ˆâœ… CloudTrail æ¨¡å¼ï¼‰:**
```python
async def get_savings_plans_utilization(
    ctx: Context,
    start_date: Annotated[str, Field(description="Start date in YYYY-MM-DD format")],
    end_date: Annotated[str, Field(description="End date in YYYY-MM-DD format")],
    granularity: Annotated[Optional[str], Field(description="Time granularity: DAILY or MONTHLY")] = "MONTHLY",
    filter_expression: Annotated[Optional[dict], Field(description="Filter expression")] = None,
    sort_key: Annotated[Optional[str], Field(description="Sort key")] = None,
    sort_order: Annotated[Optional[str], Field(description="Sort order")] = None,
    max_results: Annotated[Optional[int], Field(description="Max results per page")] = None,
    next_page_token: Annotated[Optional[str], Field(description="Pagination token")] = None,
    target_account_id: Annotated[Optional[str], Field(description="Target AWS account ID")] = None,
) -> dict[str, Any]:
```

**å·²é‡æ„çš„å‡½æ•°åˆ—è¡¨:**
1. âœ… `get_savings_plans_utilization` - 10ä¸ªå‚æ•°
2. âœ… `get_savings_plans_coverage` - 11ä¸ªå‚æ•°
3. âœ… `get_savings_plans_purchase_recommendation` - 10ä¸ªå‚æ•°
4. âœ… `start_savings_plans_purchase_recommendation_generation` - 2ä¸ªå‚æ•°
5. âœ… `get_savings_plans_utilization_details` - 9ä¸ªå‚æ•°
6. âœ… `get_savings_plan_purchase_recommendation_details` - 3ä¸ªå‚æ•°
7. âœ… `list_savings_plans_purchase_recommendation_generation` - 6ä¸ªå‚æ•°

**å…³é”®æ”¹è¿›ç‚¹:**
- ç§»é™¤å¯¼å…¥ `SavingsPlansUtilizationParams`, `SavingsPlansCoverageParams` ç­‰å¤æ‚æ¨¡å‹
- æ·»åŠ  `Annotated` å’Œ `Field` å¯¼å…¥
- æ‰€æœ‰å‚æ•°å±•å¼€ä¸ºç®€å•ç±»å‹ï¼ˆstr, int, dict, listï¼‰
- æ¯ä¸ªå‚æ•°éƒ½æœ‰æ¸…æ™°çš„ `Field(description=...)` å…ƒæ•°æ®
- å†…éƒ¨é€»è¾‘ä¿æŒä¸å˜ï¼ˆå‚æ•°å¼•ç”¨ä» `params.xxx` æ”¹ä¸ºç›´æ¥ä½¿ç”¨ `xxx`ï¼‰

---

#### 1.2 `handlers/ri_handler.py` - 3ä¸ªå‡½æ•°å…¨éƒ¨é‡æ„ âœ…

**å·²é‡æ„çš„å‡½æ•°åˆ—è¡¨:**
1. âœ… `get_reservation_utilization` - 11ä¸ªå‚æ•°
2. âœ… `get_reservation_coverage` - 11ä¸ªå‚æ•°
3. âœ… `get_reservation_purchase_recommendation` - 10ä¸ªå‚æ•°

**å…³é”®æ”¹è¿›ç‚¹:**
- ç§»é™¤å¯¼å…¥ `ReservationUtilizationParams`, `ReservationCoverageParams`, `ReservationPurchaseRecommendationParams`
- å±•å¼€æ‰€æœ‰åµŒå¥—å‚æ•°ï¼ˆå¦‚ `time_period.start_date` â†’ `start_date`ï¼‰
- ä¿æŒæœåŠ¡åç§°æ˜ å°„å’ŒéªŒè¯é€»è¾‘ä¸å˜

---

#### 1.3 `handlers/commitment_handler.py` - 3ä¸ªå‡½æ•°å…¨éƒ¨é‡æ„ âœ…

**å·²é‡æ„çš„å‡½æ•°åˆ—è¡¨:**
1. âœ… `start_commitment_purchase_analysis` - 3ä¸ªå‚æ•°
2. âœ… `get_commitment_purchase_analysis` - 3ä¸ªå‚æ•°
3. âœ… `list_commitment_purchase_analyses` - 6ä¸ªå‚æ•°

**å…³é”®æ”¹è¿›ç‚¹:**
- `commitment_purchase_analysis_configuration` ä¿æŒä¸º dictï¼ˆç¬¦åˆ AWS API è¦æ±‚ï¼‰
- æ·»åŠ è¯¦ç»†çš„ Field æè¿°è¯´æ˜é…ç½®ç»“æ„

---

### Phase 2: åŸºç¡€è®¾æ–½ä¿®å¤ï¼ˆP1 - é«˜ä¼˜å…ˆçº§ï¼‰

#### 2.1 `server.py` - FastMCP æœåŠ¡å™¨åç§°æ ‡å‡†åŒ– âœ…

**ä¿®æ”¹å‰:**
```python
app = FastMCP(
    name="AWS RISP MCP Server",  # âŒ éæ ‡å‡†å‘½å
    ...
)
```

**ä¿®æ”¹å:**
```python
app = FastMCP(
    name="awslabs.costq-risp-mcp-server",  # âœ… æ ‡å‡† awslabs å‘½å
    ...
)
```

**æ”¹è¿›è¯´æ˜:**
- éµå¾ª awslabs å‘½åçº¦å®š
- ä¸ CloudTrail MCP (`awslabs.cloudtrail-mcp-server`) ä¿æŒä¸€è‡´
- æå‡ AgentCore Gateway å…¼å®¹æ€§

---

#### 2.2 `Dockerfile-AgentCore-Runtime` - å¥åº·æ£€æŸ¥ä¿®å¤ âœ…

**é—®é¢˜è¯Šæ–­:**
- åŸå¥åº·æ£€æŸ¥ä½¿ç”¨ `GET http://localhost:8000/mcp`
- ä½† `/mcp` ç«¯ç‚¹**ä»…æ”¯æŒ POST** è¯·æ±‚ï¼ˆMCP åè®®è¦æ±‚ï¼‰
- å¯¼è‡´å®¹å™¨å§‹ç»ˆå¤„äº unhealthy çŠ¶æ€

**ä¿®æ”¹å‰:**
```dockerfile
HEALTHCHECK --interval=30s --timeout=5s --start-period=15s --retries=3 \
    CMD python -c "import urllib.request; urllib.request.urlopen('http://localhost:8000/mcp', timeout=5)" || exit 1
```

**ä¿®æ”¹åï¼ˆå‚è€ƒ CloudTrailï¼‰:**
```dockerfile
# ä½¿ç”¨è¿›ç¨‹å­˜æ´»æ£€æŸ¥ï¼Œé¿å… GET è¯·æ±‚é—®é¢˜
HEALTHCHECK --interval=30s --timeout=5s --start-period=15s --retries=3 \
    CMD pgrep -f "python.*server" > /dev/null || exit 1
```

**æ”¹è¿›è¯´æ˜:**
- æ£€æŸ¥ Python è¿›ç¨‹å­˜æ´»æ€§ï¼Œè€Œé HTTP ç«¯ç‚¹
- é¿å… POST-only ç«¯ç‚¹çš„ GET è¯·æ±‚é”™è¯¯
- ä¸ CloudTrail MCP å¥åº·æ£€æŸ¥é€»è¾‘ä¸€è‡´

---

#### 2.3 `Dockerfile-AgentCore-Runtime` - ä¾èµ–ç‰ˆæœ¬é”å®š âœ…

**é—®é¢˜è¯Šæ–­:**
- åŸä¾èµ–ä½¿ç”¨èŒƒå›´ç‰ˆæœ¬ï¼ˆå¦‚ `mcp[cli]>=1.23.0`ï¼‰
- å¯èƒ½å¯¼è‡´ç‰ˆæœ¬æ¼‚ç§»å’Œä¸ä¸€è‡´è¡Œä¸º

**ä¿®æ”¹å‰:**
```dockerfile
RUN /app/.venv/bin/pip install --no-cache-dir \
    boto3>=1.38.0 \
    pydantic>=2.10.0 \
    'mcp[cli]>=1.23.0' \
    ...
```

**ä¿®æ”¹åï¼ˆé”å®šåˆ° CloudTrail ç›¸åŒç‰ˆæœ¬ï¼‰:**
```dockerfile
RUN /app/.venv/bin/pip install --no-cache-dir \
    boto3==1.38.22 \
    pydantic==2.10.6 \
    'mcp[cli]==1.23.3' \
    sqlalchemy==2.0.36 \
    psycopg2-binary==2.9.10 \
    cryptography==44.0.0 \
    aws-opentelemetry-distro==0.12.2
```

**æ”¹è¿›è¯´æ˜:**
- æ‰€æœ‰ä¾èµ–é”å®šåˆ°ç²¾ç¡®ç‰ˆæœ¬
- ä¸ CloudTrail MCP ç¯å¢ƒå®Œå…¨ä¸€è‡´
- æ¶ˆé™¤ç‰ˆæœ¬æ¼‚ç§»é£é™©

---

## ğŸ§ª éªŒè¯ç»“æœ

### 1. è¯­æ³•éªŒè¯ âœ…
```bash
âœ… server.py - OK
âœ… handlers/sp_handler.py - OK
âœ… handlers/ri_handler.py - OK
âœ… handlers/commitment_handler.py - OK
```

### 2. å‡½æ•°ç­¾åéªŒè¯ âœ…
```
ğŸ“„ handlers/sp_handler.py:
  âœ… get_savings_plans_utilization: 10 ä¸ªå‚æ•°
  âœ… get_savings_plans_coverage: 11 ä¸ªå‚æ•°
  âœ… get_savings_plans_purchase_recommendation: 10 ä¸ªå‚æ•°
  âœ… start_savings_plans_purchase_recommendation_generation: 2 ä¸ªå‚æ•°
  âœ… get_savings_plans_utilization_details: 9 ä¸ªå‚æ•°
  âœ… get_savings_plan_purchase_recommendation_details: 3 ä¸ªå‚æ•°
  âœ… list_savings_plans_purchase_recommendation_generation: 6 ä¸ªå‚æ•°

ğŸ“„ handlers/ri_handler.py:
  âœ… get_reservation_utilization: 11 ä¸ªå‚æ•°
  âœ… get_reservation_coverage: 11 ä¸ªå‚æ•°
  âœ… get_reservation_purchase_recommendation: 10 ä¸ªå‚æ•°

ğŸ“„ handlers/commitment_handler.py:
  âœ… start_commitment_purchase_analysis: 3 ä¸ªå‚æ•°
  âœ… get_commitment_purchase_analysis: 3 ä¸ªå‚æ•°
  âœ… list_commitment_purchase_analyses: 6 ä¸ªå‚æ•°

ğŸ‰ æ‰€æœ‰å‡½æ•°ç­¾åå·²æˆåŠŸé‡æ„ä¸ºå±•å¼€å‚æ•°æ ¼å¼ï¼
```

---

## ğŸ¯ æ ¸å¿ƒä¿®å¤åŸç†

### ä¸ºä»€ä¹ˆå¤æ‚ Pydantic æ¨¡å‹ä¼šå¤±è´¥ï¼Ÿ

**AgentCore Gateway å·¥å…·å‘ç°æµç¨‹:**
1. Gateway è°ƒç”¨ MCP Server çš„ `tools/list` ç«¯ç‚¹
2. MCP Server è¿”å›å·¥å…·åˆ—è¡¨ï¼Œæ¯ä¸ªå·¥å…·åŒ…å« `inputSchema` (JSON Schema)
3. Gateway è§£æ JSON Schemaï¼Œç”¨äºï¼š
   - ç”Ÿæˆå·¥å…·è°ƒç”¨å‚æ•°
   - éªŒè¯å‚æ•°æ ¼å¼
   - è·¯ç”±è¯·æ±‚åˆ°æ­£ç¡®çš„å·¥å…·

**RISP MCP å¤±è´¥åŸå› :**
```python
# âŒ å¤æ‚åµŒå¥—æ¨¡å‹
params: SavingsPlansCoverageParams
  â””â”€ time_period: TimePeriod
      â”œâ”€ start_date: str
      â””â”€ end_date: str
  â””â”€ granularity: str
  â””â”€ group_by: list[str]

# Gateway å°è¯•ç”Ÿæˆ JSON Schemaï¼š
{
  "type": "object",
  "properties": {
    "params": {
      "type": "object",  # âŒ åµŒå¥—å¯¹è±¡
      "properties": {
        "time_period": {
          "type": "object",  # âŒâŒ åŒé‡åµŒå¥—
          ...
        }
      }
    }
  }
}
```

**ç»“æœ**: Gateway æ— æ³•æ­£ç¡®åºåˆ—åŒ–/ååºåˆ—åŒ–åµŒå¥— Pydantic æ¨¡å‹ï¼Œå¯¼è‡´ `tools/list` è¿”å›ç©ºåˆ—è¡¨æˆ–é”™è¯¯æ ¼å¼ï¼Œ7ms å†…å¿«é€Ÿå¤±è´¥ã€‚

---

### ä¸ºä»€ä¹ˆå±•å¼€å‚æ•°å¯ä»¥æˆåŠŸï¼Ÿ

**CloudTrail MCP æˆåŠŸæ¨¡å¼:**
```python
# âœ… ç®€å•æ‰å¹³å‚æ•°
async def lookup_events(
    ctx: Context,
    start_time: Annotated[Optional[str], Field(description='...')] = None,
    end_time: Annotated[Optional[str], Field(description='...')] = None,
    ...
)

# Gateway ç”Ÿæˆç®€å• JSON Schemaï¼š
{
  "type": "object",
  "properties": {
    "start_time": {"type": "string", "description": "..."},
    "end_time": {"type": "string", "description": "..."},
    ...
  }
}
```

**ç»“æœ**: Gateway å¯ä»¥ç›´æ¥æ˜ å°„åˆ°ç®€å• JSON Schemaï¼Œå·¥å…·å‘ç°æˆåŠŸï¼Œè¯·æ±‚å¯ä»¥æ­£å¸¸è·¯ç”±åˆ° Runtimeã€‚

---

## ğŸ“Š ä¿®æ”¹ç»Ÿè®¡

| æ–‡ä»¶ | ä¿®æ”¹ç±»å‹ | å‡½æ•°æ•°é‡ | å…³é”®æ”¹åŠ¨ |
|------|---------|---------|---------|
| `handlers/sp_handler.py` | å‡½æ•°ç­¾åé‡æ„ | 7 | ç§»é™¤ Pydantic æ¨¡å‹å‚æ•°ï¼Œå±•å¼€ä¸º Annotated ç®€å•ç±»å‹ |
| `handlers/ri_handler.py` | å‡½æ•°ç­¾åé‡æ„ | 3 | ç§»é™¤ Pydantic æ¨¡å‹å‚æ•°ï¼Œå±•å¼€ä¸º Annotated ç®€å•ç±»å‹ |
| `handlers/commitment_handler.py` | å‡½æ•°ç­¾åé‡æ„ | 3 | å±•å¼€ä¸º Annotated ç®€å•ç±»å‹ |
| `server.py` | é…ç½®æ›´æ–° | 1 | FastMCP name: `awslabs.costq-risp-mcp-server` |
| `Dockerfile-AgentCore-Runtime` | åŸºç¡€è®¾æ–½ | 2 | å¥åº·æ£€æŸ¥ + ä¾èµ–ç‰ˆæœ¬é”å®š |

**æ€»è®¡:**
- âœ… é‡æ„å‡½æ•°ç­¾åï¼š13 ä¸ª
- âœ… å±•å¼€å‚æ•°æ€»æ•°ï¼š~100+ ä¸ª
- âœ… ä¿®æ”¹æ–‡ä»¶ï¼š5 ä¸ª

---

## ğŸš€ ä¸‹ä¸€æ­¥éƒ¨ç½²æ­¥éª¤

### 1. æ„å»º Docker é•œåƒ
```bash
cd /Users/liyuguang/data/gitworld/tonygithub/costq-mcp-servers/src/costq-risp-mcp-server
docker build -f Dockerfile-AgentCore-Runtime -t costq-risp-mcp:latest .
```

### 2. æ¨é€åˆ° ECR
```bash
# å‚è€ƒ costq/scripts ä¸­çš„éƒ¨ç½²è„šæœ¬
aws ecr get-login-password --region ap-northeast-1 --profile 3532 | \
  docker login --username AWS --password-stdin <ECR_URI>

docker tag costq-risp-mcp:latest <ECR_URI>/costq-risp-mcp:latest
docker push <ECR_URI>/costq-risp-mcp:latest
```

### 3. æ›´æ–° AgentCore Runtime
```bash
aws bedrock-agentcore-control update-runtime \
  --runtime-name costq-risp-mcp-runtime \
  --image-uri <ECR_URI>/costq-risp-mcp:latest \
  --region ap-northeast-1 \
  --profile 3532
```

### 4. åˆ·æ–° AgentCore Gatewayï¼ˆâš ï¸ å¿…é¡»ï¼‰
```bash
# æ–¹å¼1: é€šè¿‡æ§åˆ¶å°åˆ·æ–° Gateway Target
# æ–¹å¼2: é‡æ–°åŒæ­¥ Runtime åˆ° Gateway
aws bedrock-agentcore-control sync-gateway-target \
  --gateway-name <gateway-name> \
  --runtime-name costq-risp-mcp-runtime \
  --region ap-northeast-1 \
  --profile 3532
```

### 5. éªŒè¯éƒ¨ç½²
```bash
# è°ƒç”¨ Gateway æµ‹è¯•å·¥å…·å‘ç°
aws bedrock-agent-runtime invoke-agent \
  --agent-id <agent-id> \
  --session-id test-session \
  --input-text "æŸ¥è¯¢ Savings Plans åˆ©ç”¨ç‡" \
  --region ap-northeast-1 \
  --profile 3532
```

**é¢„æœŸç»“æœ:**
- âœ… Runtime å®¹å™¨çŠ¶æ€ï¼šhealthyï¼ˆè¿›ç¨‹å­˜æ´»æ£€æŸ¥é€šè¿‡ï¼‰
- âœ… Gateway tools/listï¼šè¿”å› 13 ä¸ªå·¥å…·
- âœ… å·¥å…·è°ƒç”¨ï¼šæˆåŠŸè·¯ç”±åˆ° Runtimeï¼Œæ‰§è¡Œæ—¶é—´ > 7ms
- âœ… æ—¥å¿—ä¸­å¯è§ï¼š`tools/call` è¯·æ±‚å’Œ AWS API è°ƒç”¨

---

## ğŸ” å…³é”®éªŒè¯ç‚¹

### éƒ¨ç½²åå¿…é¡»éªŒè¯çš„æ ¸å¿ƒæŒ‡æ ‡

1. **å®¹å™¨å¥åº·çŠ¶æ€**
   ```bash
   docker ps --filter name=costq-risp-mcp
   # STATUS åº”ä¸º healthy
   ```

2. **å·¥å…·åˆ—è¡¨å®Œæ•´æ€§**
   - é¢„æœŸï¼š13 ä¸ªå·¥å…·å…¨éƒ¨å¯è§
   - éªŒè¯ï¼šé€šè¿‡ Gateway æˆ– Agent è°ƒç”¨ tools/list

3. **å·¥å…·è°ƒç”¨æˆåŠŸç‡**
   - ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼šå“åº”æ—¶é—´ > 7msï¼ˆä¸å†æ˜¯å¿«é€Ÿå¤±è´¥ï¼‰
   - æ—¥å¿—ä¸­å¯è§ï¼šAWS Cost Explorer API è°ƒç”¨

4. **JSON Schema æ ¼å¼**
   - æ£€æŸ¥ tools/list å“åº”ä¸­çš„ `inputSchema`
   - ç¡®è®¤æ— åµŒå¥— Pydantic æ¨¡å‹ç»“æ„
   - ç¡®è®¤æ‰€æœ‰å‚æ•°éƒ½æ˜¯ç®€å•ç±»å‹

---

## ğŸ“ ç»éªŒæ•™è®­

### 1. AgentCore Gateway å·¥å…·æ³¨å†Œè¦æ±‚ï¼ˆå…³é”®ï¼‰
- âŒ **ç¦æ­¢**ï¼šå‡½æ•°ç­¾åä½¿ç”¨å¤æ‚ Pydantic æ¨¡å‹å‚æ•°
- âœ… **å¿…é¡»**ï¼šå±•å¼€ä¸ºç®€å•ç±»å‹ + Annotated[type, Field(description=...)]
- âœ… **å¿…é¡»**ï¼šFastMCP name éµå¾ª `awslabs.*` å‘½åçº¦å®š

### 2. å¥åº·æ£€æŸ¥æœ€ä½³å®è·µ
- âŒ **é¿å…**ï¼šå¯¹ POST-only ç«¯ç‚¹å‘èµ· GET è¯·æ±‚
- âœ… **æ¨è**ï¼šä½¿ç”¨è¿›ç¨‹å­˜æ´»æ£€æŸ¥ï¼ˆ`pgrep -f "python.*server"`ï¼‰

### 3. ä¾èµ–ç®¡ç†
- âŒ **é¿å…**ï¼šèŒƒå›´ç‰ˆæœ¬ï¼ˆ`>=`ï¼‰å¯¼è‡´ç‰ˆæœ¬æ¼‚ç§»
- âœ… **æ¨è**ï¼šé”å®šç²¾ç¡®ç‰ˆæœ¬ï¼ˆ`==`ï¼‰ç¡®ä¿ä¸€è‡´æ€§

### 4. å‚è€ƒæˆåŠŸæ¡ˆä¾‹
- é‡åˆ°éƒ¨ç½²é—®é¢˜æ—¶ï¼Œ**ä¼˜å…ˆå‚è€ƒå·²æˆåŠŸéƒ¨ç½²çš„ MCP Server**ï¼ˆå¦‚ CloudTrailï¼‰
- ä¸¥æ ¼å¯¹é½é…ç½®ã€ä»£ç ç»“æ„ã€ä¾èµ–ç‰ˆæœ¬

---

## âœ… ä¿®å¤å®Œæˆç¡®è®¤

- [x] æ‰€æœ‰å·¥å…·å‡½æ•°ç­¾åå·²é‡æ„ä¸º Annotated ç®€å•ç±»å‹
- [x] FastMCP æœåŠ¡å™¨åç§°å·²æ ‡å‡†åŒ–
- [x] Dockerfile å¥åº·æ£€æŸ¥å·²ä¿®å¤
- [x] ä¾èµ–ç‰ˆæœ¬å·²é”å®š
- [x] è¯­æ³•éªŒè¯å…¨éƒ¨é€šè¿‡
- [x] å‡½æ•°ç­¾åéªŒè¯å…¨éƒ¨é€šè¿‡
- [x] ä¸ CloudTrail MCP æ¨¡å¼å®Œå…¨å¯¹é½

**çŠ¶æ€**: âœ… **ä»£ç ä¿®å¤å®Œæˆï¼Œå¾…éƒ¨ç½²éªŒè¯**

---

**ä¿®å¤äººå‘˜**: DeepV Code AI Assistant
**ä¿®å¤æ—¥æœŸ**: 2026-01-20
**å‚è€ƒæ–‡æ¡£**: `costq/docs/20260119_risp_mcpé—®é¢˜/20260119_final_diagnosis.md`
